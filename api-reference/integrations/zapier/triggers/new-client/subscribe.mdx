---
title: "Subscribe to Webhooks"
description: "Set up real-time webhook notifications for new client creation events in your Zapier integrations."
---

## Overview

Subscribe to webhook events to receive instant notifications when clients are created in your workspace. This endpoint enables Zapier's "New Client" trigger integration, automatically forwarding client data to your connected workflows.

<Note>
This endpoint is primarily designed for Zapier integrations but can be used with any webhook service that follows the same pattern.
</Note>

## Authentication

All requests require a valid API key in the Authorization header:

```bash
Authorization: Bearer YOUR_API_KEY
```

## Subscribe to Events

<CodeGroup>

```bash cURL
curl -X POST 'https://app.timetracker.in/api/integrations/zapier/webhooks/subscribe' \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer YOUR_API_KEY' \
  -d '{
    "url": "https://hooks.zapier.com/hooks/catch/123456/abcdef/",
    "events": ["CLIENT_CREATED"],
    "description": "Zapier webhook for new clients"
  }'
```

```javascript JavaScript
const response = await fetch('https://app.timetracker.in/api/integrations/zapier/webhooks/subscribe', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Bearer YOUR_API_KEY'
  },
  body: JSON.stringify({
    url: 'https://hooks.zapier.com/hooks/catch/123456/abcdef/',
    events: ['CLIENT_CREATED'],
    description: 'Zapier webhook for new clients'
  })
});
```

```python Python
import requests

url = "https://app.timetracker.in/api/integrations/zapier/webhooks/subscribe"
headers = {
    "Content-Type": "application/json",
    "Authorization": "Bearer YOUR_API_KEY"
}
data = {
    "url": "https://hooks.zapier.com/hooks/catch/123456/abcdef/",
    "events": ["CLIENT_CREATED"],
    "description": "Zapier webhook for new clients"
}

response = requests.post(url, headers=headers, json=data)
```

</CodeGroup>

### Request Body

<ParamField body="url" type="string" required>
  The destination URL for webhook notifications. Must be a valid HTTPS URL format.
  
  **Example:** `https://hooks.zapier.com/hooks/catch/123456/abcdef/`
</ParamField>

<ParamField body="events" type="string[]" required>
  Array of event types to monitor. Currently supports:
  - `CLIENT_CREATED` - Triggered when a new client is added
  
  **Example:** `["CLIENT_CREATED"]`
</ParamField>

<ParamField body="description" type="string" optional>
  Optional description to identify this webhook in your dashboard.
  
  **Example:** `"Zapier integration for client notifications"`
</ParamField>

## Response

### Success Response

```json
{
  "success": true,
  "webhook": {
    "id": "wh_1234567890abcdef",
    "url": "https://hooks.zapier.com/hooks/catch/123456/abcdef/",
    "events": ["CLIENT_CREATED"],
    "status": "ACTIVE"
  }
}
```

<ResponseField name="success" type="boolean">
  Confirms successful webhook creation.
</ResponseField>

<ResponseField name="webhook" type="object">
  The created webhook subscription details.
  
  <Expandable title="Webhook Object Properties">
    <ResponseField name="id" type="string">
      Unique webhook identifier for future reference.
    </ResponseField>
    
    <ResponseField name="url" type="string">
      The registered webhook endpoint URL.
    </ResponseField>
    
    <ResponseField name="events" type="string[]">
      Confirmed list of subscribed event types.
    </ResponseField>
    
    <ResponseField name="status" type="string">
      Webhook status - `ACTIVE` for new subscriptions.
    </ResponseField>
  </Expandable>
</ResponseField>

### Error Responses

<AccordionGroup>
  <Accordion title="400 Bad Request - Invalid URL">
    ```json
    {
      "error": "Invalid URL format"
    }
    ```
    The provided URL doesn't meet the required format standards.
  </Accordion>
  
  <Accordion title="400 Bad Request - Missing Fields">
    ```json
    {
      "error": "URL and events array are required"
    }
    ```
    Required parameters `url` or `events` are missing from the request.
  </Accordion>
  
  <Accordion title="401 Unauthorized">
    ```json
    {
      "error": "Unauthorized"
    }
    ```
    Invalid or missing API key in the Authorization header.
  </Accordion>
  
  <Accordion title="500 Internal Server Error">
    ```json
    {
      "error": "Internal server error"
    }
    ```
    An unexpected server error occurred. Try again or contact support.
  </Accordion>
</AccordionGroup>

## Webhook Payload Structure

When a client is created, your webhook endpoint receives a POST request with this payload:

```json
{
  "id": "c1a2b3c4-d5e6-7890-abcd-ef1234567890",
  "name": "Acme Corporation",
  "email": "info@acmecorp.com",
  "phone": "+1-800-555-0199",
  "address": "456 Innovation Drive, Silicon Valley, CA 94043",
  "status": "active",
  "type": "company",
  "workspace": {
    "id": "w1b2c3d4-e5f6-7890-abcd-ef0987654321",
    "name": "Acme Main Workspace"
  },
  "createdAt": "2024-01-15T10:30:00Z",
  "updatedAt": "2024-01-15T10:30:00Z"
}
```

### Payload Fields

<ResponseField name="id" type="string">
  Unique client identifier
</ResponseField>

<ResponseField name="name" type="string">
  Client name or company name
</ResponseField>

<ResponseField name="email" type="string">
  Primary contact email address
</ResponseField>

<ResponseField name="phone" type="string">
  Contact phone number
</ResponseField>

<ResponseField name="address" type="string">
  Full business address
</ResponseField>

<ResponseField name="status" type="string">
  Client status (`active`, `inactive`, etc.)
</ResponseField>

<ResponseField name="type" type="string">
  Client type (`company`, `individual`, etc.)
</ResponseField>

<ResponseField name="workspace" type="object">
  Associated workspace information
  
  <Expandable title="Workspace Properties">
    <ResponseField name="id" type="string">
      Workspace unique identifier
    </ResponseField>
    
    <ResponseField name="name" type="string">
      Workspace display name
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="createdAt" type="string">
  ISO 8601 timestamp of client creation
</ResponseField>

<ResponseField name="updatedAt" type="string">
  ISO 8601 timestamp of last update
</ResponseField>

## Zapier Integration Guide

### Setting Up the Trigger

1. **Automatic Setup**: Zapier automatically calls this endpoint when you configure a "New Client" trigger
2. **Event Subscription**: The integration subscribes to `CLIENT_CREATED` events
3. **Data Flow**: New client data is instantly sent to your Zap workflow

<Tip>
Zapier automatically provides the webhook URL via `bundle.targetUrl` when setting up the trigger. You don't need to manually generate URLs.
</Tip>

## Important Notes

<Warning>
**Workspace Scope**: Webhook subscriptions are tied to your specific API key and workspace. Ensure you're using the correct credentials for your intended workspace.
</Warning>

<Info>
**Data Format**: The webhook payload structure matches the standard client data format used across all client API endpoints, ensuring consistency in your integrations.
</Info>

<Check>
**Best Practices**: 
- Validate webhook signatures if implementing custom security
- Implement proper error handling for webhook delivery failures  
- Use HTTPS endpoints only for security
- Test your webhook endpoint before subscribing
</Check>